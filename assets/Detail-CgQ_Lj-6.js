import{r as t,C as v,j as e,N as a,u as N,a as b,b as T}from"./index-Dv_sRSCP.js";let g=t.memo(()=>{let[n,i]=t.useState(0),{shoes:s,qty:r}=t.useContext(v);const c=t.useRef(!0);function m({tab:d}){let[u,o]=t.useState("");return t.useEffect(()=>{if(c.current){c.current=!1;return}let h=setTimeout(()=>{o("scaleEnd")},10);return()=>{o(""),clearTimeout(h)}},[d]),e.jsx("div",{className:c.current?"scaleEnd":`scaleStart ${u}`,children:[e.jsx("div",{children:r[0]}),e.jsx("div",{children:"내용2"}),e.jsx("div",{children:"내용3"})][d]})}return e.jsxs(e.Fragment,{children:[e.jsxs(a,{justify:!0,variant:"tabs",defaultActiveKey:"link0",children:[e.jsx(a.Item,{children:e.jsx(a.Link,{eventKey:"link0",onClick:()=>{i(0)},children:"Tab-1"})}),e.jsx(a.Item,{children:e.jsx(a.Link,{eventKey:"link1",onClick:()=>{i(1)},children:"Tab-2"})}),e.jsx(a.Item,{children:e.jsx(a.Link,{eventKey:"link2",onClick:()=>{i(2)},children:"Tab-3"})})]}),e.jsx(m,{tab:n})]})});function S(){let[n,i]=t.useState(0);function s(){i(r=>r+1)}return[n,s]}const w=n=>{let{id:i}=N(),s=n.shoes.find(l=>l.id==i),[r,c]=t.useState(!0),[m,d]=t.useState(!1),[u,o]=t.useState(""),[h,f]=S(),p=b(),[k,j]=t.useState("");return t.useEffect(()=>{window.scrollTo(0,0);let l=setTimeout(()=>(c(!1),(()=>{clearTimeout(l)})),2e3)},[]),t.useEffect(()=>{Number.isNaN(Number(u))?d(!0):d(!1)},[u]),s?(t.useEffect(()=>{let l=JSON.parse(localStorage.getItem("watchItem"))||[];l.unshift(s.id);let x=[...new Set(l)];x=x.slice(0,5),localStorage.setItem("watchItem",JSON.stringify(x))},[s.id]),t.useEffect(()=>{window.scrollTo(0,0);let l=setTimeout(()=>{j("end")},10);return()=>{clearTimeout(l),j("")}},[location.pathname]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`container start ${k}`,children:[" ",r==!0?e.jsx("div",{className:"alert alert-warning",id:"sale",children:"2초이내 구매시 할인"}):"",e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("img",{src:`https://codingapple1.github.io/shop/shoes${s.id+1}.jpg`,width:"100%"})}),e.jsxs("div",{className:"col-md-6",children:[m==!0?e.jsx("p",{style:{color:"red"},children:"글자를 못읽는것이냐? 문자말고 숫자써라"}):"",e.jsx("input",{type:"text",id:"numInput",placeholder:"실험용(숫자만써라)",value:u,onChange:l=>{o(l.target.value)}}),e.jsx("h4",{className:"pt-5",children:s.title}),e.jsxs("p",{children:["제조사: ",s.content]}),e.jsxs("p",{children:[new Intl.NumberFormat("ko-KR").format(s.price),"원"]}),e.jsx("button",{className:"btn btn-danger",onClick:()=>{p(T({id:s.id,name:s.title,count:1}))},children:"주문하기"}),e.jsx("br",{}),h,e.jsx("span",{onClick:()=>{f()},children:"♥"})]})]}),e.jsx(g,{})]})})):e.jsx("div",{children:"상품을 찾을 수 없습니다."})};export{w as default};
