import{r as s,j as e,N as a,u as N,d as S,a as I,b as y,c as E,B as b,e as w}from"./index-B1rJcW2S.js";let T=s.memo(()=>{let[d,n]=s.useState(0);const l=s.useRef(!0);function r({tab:t}){let[o,u]=s.useState("");return s.useEffect(()=>{if(l.current){l.current=!1;return}let m=setTimeout(()=>{u("scaleEnd")},10);return()=>{u(""),clearTimeout(m)}},[t]),e.jsx("div",{className:l.current?"scaleEnd":`scaleStart ${o}`,children:[e.jsx("div",{children:"내용1"}),e.jsx("div",{children:"내용2"}),e.jsx("div",{children:"내용3"})][t]})}return e.jsxs(e.Fragment,{children:[e.jsxs(a,{justify:!0,variant:"tabs",defaultActiveKey:"link0",children:[e.jsx(a.Item,{children:e.jsx(a.Link,{eventKey:"link0",onClick:()=>{n(0)},children:"상품 설명"})}),e.jsx(a.Item,{children:e.jsx(a.Link,{eventKey:"link1",onClick:()=>{n(1)},children:"요약"})}),e.jsx(a.Item,{children:e.jsx(a.Link,{eventKey:"link2",onClick:()=>{n(2)},children:"리뷰"})})]}),e.jsx(r,{tab:d})]})});function C(){let[d,n]=s.useState(0);function l(){n(r=>r+1)}return[d,l]}const A=({shoes:d,setFooterFade:n,setFooterMsg:l})=>{let{id:r}=N(),t=S.find(i=>i.id==r),[o,u]=s.useState(!0),[m,x]=s.useState(!1),[h,j]=s.useState(""),[f,p]=C(),v=I();const[g]=y(),k=E(i=>i.cart);return s.useEffect(()=>{window.scrollTo(0,0);let i=setTimeout(()=>(u(!1),(()=>{clearTimeout(i)})),2e3)},[]),s.useEffect(()=>{Number.isNaN(Number(h))?x(!0):x(!1)},[h]),t?(s.useEffect(()=>{let i=JSON.parse(sessionStorage.getItem("watchItem"))||[];i.unshift(t.id);let c=[...new Set(i)];c=c.slice(0,5),sessionStorage.setItem("watchItem",JSON.stringify(c))},[t.id]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`container start ${g}`,children:[" ",e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("img",{src:`https://codingapple1.github.io/shop/shoes${t.id+1}.jpg`,width:"100%",height:"500px"})}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-center",style:{gap:"10px",height:"40px"},children:[e.jsx("input",{type:"text",id:"numInput",placeholder:"실험용(숫자만써라)",value:h,onChange:i=>{j(i.target.value)}}),e.jsx("div",{style:{width:"250px",textAlign:"left"},children:m==!0?e.jsx("p",{style:{color:"red",margin:0,fontSize:"12px"},children:"글자를 못읽는것이냐? 문자말고 숫자써라"}):""})]}),e.jsx("h4",{className:"pt-5",children:t.title}),e.jsxs("p",{children:["제조사: ",t.content]}),e.jsxs("p",{children:[new Intl.NumberFormat("ko-KR").format(t.price),"원"]}),e.jsx(b,{variant:"outline-success",onClick:()=>{k.find(c=>c.id===t.id)?l("⚠️ 이미 장바구니에 있는 상품입니다."):(v(w({id:t.id,name:t.title,content:t.content,price:t.price,count:1})),l("✔️ 장바구니에 담았습니다.")),n(""),setTimeout(()=>{n("footEnd")},10)},children:"장바구니 담기"}),e.jsx("br",{}),f,e.jsx("span",{onClick:()=>{p()},children:"♥"})]})]}),o==!0?e.jsx("div",{className:"alert alert-warning",id:"sale",children:"2초이내 결제시 할인"}):e.jsx("div",{className:"alert alert-danger",id:"sale",children:"이벤트 끝 ~"}),e.jsx(T,{})]})})):e.jsx("div",{children:"상품을 찾을 수 없습니다."})};export{A as default};
