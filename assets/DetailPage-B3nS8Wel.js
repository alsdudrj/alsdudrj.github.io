import{r as s,C as p,j as e,N as r,u as k,a as v,b as N}from"./index-C0NN-8m0.js";let b=s.memo(()=>{let[i,l]=s.useState(0),{shoes:t,qty:n}=s.useContext(p);return e.jsxs(e.Fragment,{children:[e.jsxs(r,{justify:!0,variant:"tabs",defaultActiveKey:"link0",children:[e.jsx(r.Item,{children:e.jsx(r.Link,{eventKey:"link0",onClick:()=>{l(0)},children:"Tab-1"})}),e.jsx(r.Item,{children:e.jsx(r.Link,{eventKey:"link1",onClick:()=>{l(1)},children:"Tab-2"})}),e.jsx(r.Item,{children:e.jsx(r.Link,{eventKey:"link2",onClick:()=>{l(2)},children:"Tab-3"})})]}),e.jsx(o,{tab:i})]});function o({tab:d}){let[u,c]=s.useState("");return s.useEffect(()=>{let m=setTimeout(()=>{c("scaleEnd")},10);return()=>{c(""),clearTimeout(m)}},[d]),e.jsx("div",{className:`scaleStart ${u}`,children:[e.jsx("div",{children:n[0]}),e.jsx("div",{children:"내용2"}),e.jsx("div",{children:"내용3"})][d]})}});function g(){let[i,l]=s.useState(0);function t(){l(n=>n+1)}return[i,t]}const S=i=>{let{id:l}=k(),t=i.shoes.find(a=>a.id==l),[n,o]=s.useState(!0),[d,u]=s.useState(!1),[c,m]=s.useState(""),[x,j]=g(),f=v();return s.useEffect(()=>{window.scrollTo(0,0);let a=setTimeout(()=>(o(!1),(()=>{clearTimeout(a)})),2e3)},[]),s.useEffect(()=>{Number.isNaN(Number(c))?u(!0):u(!1)},[c]),t?(s.useEffect(()=>{let a=JSON.parse(localStorage.getItem("watchItem"))||[];a.unshift(t.id);let h=[...new Set(a)];h=h.slice(0,5),localStorage.setItem("watchItem",JSON.stringify(h))},[t.id]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container",children:[n==!0?e.jsx("div",{className:"alert alert-warning",id:"sale",children:"2초이내 구매시 할인"}):"",e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("img",{src:`https://codingapple1.github.io/shop/shoes${t.id+1}.jpg`,width:"100%"})}),e.jsxs("div",{className:"col-md-6",children:[d==!0?e.jsx("p",{style:{color:"red"},children:"글자를 못읽는것이냐? 문자말고 숫자써라"}):"",e.jsx("input",{type:"text",id:"numInput",placeholder:"실험용(숫자만써라)",value:c,onChange:a=>{m(a.target.value)}}),e.jsx("h4",{className:"pt-5",children:t.title}),e.jsxs("p",{children:["제조사: ",t.content]}),e.jsxs("p",{children:[new Intl.NumberFormat("ko-KR").format(t.price),"원"]}),e.jsx("button",{className:"btn btn-danger",onClick:()=>{f(N({id:t.id,name:t.title,count:1}))},children:"주문하기"}),e.jsx("br",{}),x,e.jsx("span",{onClick:()=>{j()},children:"♥"})]})]}),e.jsx(b,{})]})})):e.jsx("div",{children:"상품을 찾을 수 없습니다."})},I=({shoes:i})=>{let[l,t]=s.useState("");return s.useEffect(()=>{let n=setTimeout(()=>{t("end")},100);return()=>{clearTimeout(n),t("")}},[]),e.jsx("div",{className:`start ${l}`,children:e.jsx(S,{shoes:i})})};export{I as default};
